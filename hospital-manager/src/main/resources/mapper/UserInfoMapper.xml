<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hospital.appointment.dao.UserInfoMapper">
<insert id="save" parameterType="com.hospital.appointment.entity.UserInfo">
    insert into user_info
    <trim prefix="(" suffix=")" suffixOverrides=",">
        <if test="id != null">id,</if>
        <if test="nickName != null">nick_name,</if>
        <if test="avatarUrl != null">avatar_url, </if>
        <if test="gender != null">gender,</if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
        <if test="id != null"> #{id,jdbcType=VARCHAR},</if>
        <if test="nickName != null"> #{nickName,jdbcType=VARCHAR},</if>
        <if test="avatarUrl != null"> #{avatarUrl,jdbcType=VARCHAR},</if>
        <if test="gender != null"> #{gender,jdbcType=INTEGER},</if>
    </trim>
</insert>
    <select id="getOpenIDByIdCard" resultType="java.lang.String">
        select id from user_info where id_card=#{idCard,jdbcType=VARCHAR};
    </select>
</mapper>
